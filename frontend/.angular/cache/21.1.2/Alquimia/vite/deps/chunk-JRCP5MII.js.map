{
  "version": 3,
  "sources": ["../../../../../../../../../node_modules/pixi.js/lib/assets/utils/convertToList.mjs", "../../../../../../../../../node_modules/pixi.js/lib/assets/cache/Cache.mjs"],
  "sourcesContent": ["\"use strict\";\nconst convertToList = (input, transform, forceTransform = false) => {\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n  if (!transform) {\n    return input;\n  }\n  return input.map((item) => {\n    if (typeof item === \"string\" || forceTransform) {\n      return transform(item);\n    }\n    return item;\n  });\n};\n\nexport { convertToList };\n\n", "import { warn } from '../../utils/logging/warn.mjs';\nimport { convertToList } from '../utils/convertToList.mjs';\n\n\"use strict\";\nclass CacheClass {\n  constructor() {\n    this._parsers = [];\n    this._cache = /* @__PURE__ */ new Map();\n    this._cacheMap = /* @__PURE__ */ new Map();\n  }\n  /** Clear all entries. */\n  reset() {\n    this._cacheMap.clear();\n    this._cache.clear();\n  }\n  /**\n   * Check if the key exists\n   * @param key - The key to check\n   */\n  has(key) {\n    return this._cache.has(key);\n  }\n  /**\n   * Fetch entry by key\n   * @param key - The key of the entry to get\n   */\n  get(key) {\n    const result = this._cache.get(key);\n    if (!result) {\n      warn(`[Assets] Asset id ${key} was not found in the Cache`);\n    }\n    return result;\n  }\n  /**\n   * Set a value by key or keys name\n   * @param key - The key or keys to set\n   * @param value - The value to store in the cache or from which cacheable assets will be derived.\n   */\n  set(key, value) {\n    const keys = convertToList(key);\n    let cacheableAssets;\n    for (let i = 0; i < this.parsers.length; i++) {\n      const parser = this.parsers[i];\n      if (parser.test(value)) {\n        cacheableAssets = parser.getCacheableAssets(keys, value);\n        break;\n      }\n    }\n    const cacheableMap = new Map(Object.entries(cacheableAssets || {}));\n    if (!cacheableAssets) {\n      keys.forEach((key2) => {\n        cacheableMap.set(key2, value);\n      });\n    }\n    const cacheKeys = [...cacheableMap.keys()];\n    const cachedAssets = {\n      cacheKeys,\n      keys\n    };\n    keys.forEach((key2) => {\n      this._cacheMap.set(key2, cachedAssets);\n    });\n    cacheKeys.forEach((key2) => {\n      const val = cacheableAssets ? cacheableAssets[key2] : value;\n      if (this._cache.has(key2) && this._cache.get(key2) !== val) {\n        warn(\"[Cache] already has key:\", key2);\n      }\n      this._cache.set(key2, cacheableMap.get(key2));\n    });\n  }\n  /**\n   * Remove entry by key\n   *\n   * This function will also remove any associated alias from the cache also.\n   * @param key - The key of the entry to remove\n   */\n  remove(key) {\n    if (!this._cacheMap.has(key)) {\n      warn(`[Assets] Asset id ${key} was not found in the Cache`);\n      return;\n    }\n    const cacheMap = this._cacheMap.get(key);\n    const cacheKeys = cacheMap.cacheKeys;\n    cacheKeys.forEach((key2) => {\n      this._cache.delete(key2);\n    });\n    cacheMap.keys.forEach((key2) => {\n      this._cacheMap.delete(key2);\n    });\n  }\n  /**\n   * All loader parsers registered\n   * @advanced\n   */\n  get parsers() {\n    return this._parsers;\n  }\n}\nconst Cache = new CacheClass();\n\nexport { Cache };\n\n"],
  "mappings": ";;;;;AACA,IAAM,gBAAgB,CAAC,OAAO,WAAW,iBAAiB,UAAU;AAClE,MAAI,CAAC,MAAM,QAAQ,KAAK,GAAG;AACzB,YAAQ,CAAC,KAAK;AAAA,EAChB;AACA,MAAI,CAAC,WAAW;AACd,WAAO;AAAA,EACT;AACA,SAAO,MAAM,IAAI,CAAC,SAAS;AACzB,QAAI,OAAO,SAAS,YAAY,gBAAgB;AAC9C,aAAO,UAAU,IAAI;AAAA,IACvB;AACA,WAAO;AAAA,EACT,CAAC;AACH;;;ACVA,IAAM,aAAN,MAAiB;AAAA,EACf,cAAc;AACZ,SAAK,WAAW,CAAC;AACjB,SAAK,SAAyB,oBAAI,IAAI;AACtC,SAAK,YAA4B,oBAAI,IAAI;AAAA,EAC3C;AAAA;AAAA,EAEA,QAAQ;AACN,SAAK,UAAU,MAAM;AACrB,SAAK,OAAO,MAAM;AAAA,EACpB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,KAAK;AACP,WAAO,KAAK,OAAO,IAAI,GAAG;AAAA,EAC5B;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,KAAK;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,GAAG;AAClC,QAAI,CAAC,QAAQ;AACX,WAAK,qBAAqB,GAAG,6BAA6B;AAAA,IAC5D;AACA,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,KAAK,OAAO;AACd,UAAM,OAAO,cAAc,GAAG;AAC9B,QAAI;AACJ,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,QAAQ,KAAK;AAC5C,YAAM,SAAS,KAAK,QAAQ,CAAC;AAC7B,UAAI,OAAO,KAAK,KAAK,GAAG;AACtB,0BAAkB,OAAO,mBAAmB,MAAM,KAAK;AACvD;AAAA,MACF;AAAA,IACF;AACA,UAAM,eAAe,IAAI,IAAI,OAAO,QAAQ,mBAAmB,CAAC,CAAC,CAAC;AAClE,QAAI,CAAC,iBAAiB;AACpB,WAAK,QAAQ,CAAC,SAAS;AACrB,qBAAa,IAAI,MAAM,KAAK;AAAA,MAC9B,CAAC;AAAA,IACH;AACA,UAAM,YAAY,CAAC,GAAG,aAAa,KAAK,CAAC;AACzC,UAAM,eAAe;AAAA,MACnB;AAAA,MACA;AAAA,IACF;AACA,SAAK,QAAQ,CAAC,SAAS;AACrB,WAAK,UAAU,IAAI,MAAM,YAAY;AAAA,IACvC,CAAC;AACD,cAAU,QAAQ,CAAC,SAAS;AAC1B,YAAM,MAAM,kBAAkB,gBAAgB,IAAI,IAAI;AACtD,UAAI,KAAK,OAAO,IAAI,IAAI,KAAK,KAAK,OAAO,IAAI,IAAI,MAAM,KAAK;AAC1D,aAAK,4BAA4B,IAAI;AAAA,MACvC;AACA,WAAK,OAAO,IAAI,MAAM,aAAa,IAAI,IAAI,CAAC;AAAA,IAC9C,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAO,KAAK;AACV,QAAI,CAAC,KAAK,UAAU,IAAI,GAAG,GAAG;AAC5B,WAAK,qBAAqB,GAAG,6BAA6B;AAC1D;AAAA,IACF;AACA,UAAM,WAAW,KAAK,UAAU,IAAI,GAAG;AACvC,UAAM,YAAY,SAAS;AAC3B,cAAU,QAAQ,CAAC,SAAS;AAC1B,WAAK,OAAO,OAAO,IAAI;AAAA,IACzB,CAAC;AACD,aAAS,KAAK,QAAQ,CAAC,SAAS;AAC9B,WAAK,UAAU,OAAO,IAAI;AAAA,IAC5B,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AACF;AACA,IAAM,QAAQ,IAAI,WAAW;",
  "names": []
}
